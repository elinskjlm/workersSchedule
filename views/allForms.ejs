<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>בחירת סידור מרשימה</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet"
        integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css" rel="stylesheet">
    <link href="allForms.css" rel="stylesheet">
</head>

<body class="d-flex flex-column">

    <main class="container my-3 col-lg-8">
        <div class="container my-3">
            <h1 class="text-center">בקשה לסידור עבודה</h1>
        </div>

        <!-- ###################################################################################################### -->
        <div class="container my-3 border border-info rounded">
            <div class="row d-flex align-items-center">
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שנה</span>
                        <input type="text" id="years-field" name="years-field" list="years-list" class="form-control"
                            aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" />
                        <datalist id="years-list"></datalist>
                    </div>
                </div>
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שבוע</span>
                        <input type="text" id="weeks-field" name="weeks-field" list="weeks-list" class="form-control"
                            aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" />
                        <datalist id="weeks-list"></datalist>
                    </div>
                </div>
                <!-- <div class="col-2 p-2 d-flex justify-content-center">
                    <div id="update-names-button" class="btn btn-primary btn-sm disabled">טען שמות</div>
                </div> -->
                <div class="col-6 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שם</span>
                        <input type="text" id="names-field" name="names-field" list="names-list" class="form-control"
                            aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" />
                        <datalist id="names-list"></datalist>
                    </div>
                </div>
                <!-- <div class="col-2 p-2 d-flex justify-content-center">
                    <div id="update-form-button" class="btn btn-primary btn-sm disabled">עדכן</div>
                </div> -->

            </div>
        </div>
        <!-- ###################################################################################################### -->

        <!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
        <div class="container my-3 border border-info rounded hidden">
            <div class="row d-flex align-items-center">
                <div class="col-2 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שנה</span>
                        <input id="yearsPick" type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm">
                    </div>
                </div>
                <div class="col-2 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שבוע</span>
                        <input id="weeksPick" type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm">
                    </div>
                </div>
                <div class="col-2 p-2 d-flex justify-content-center">
                    <div id="namesButton" class="btn btn-primary btn-sm">טען שמות</div>
                </div>
                <div class="col-4 p-2 d-flex justify-content-center">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">שם</span>
                        <input id="namesPick" type="text" class="form-control" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-sm">
                    </div>
                </div>
                <div class="col-2 p-2 d-flex justify-content-center">
                    <div id="updateButton" class="btn btn-primary btn-sm">עדכן</div>
                </div>
            </div>
        </div>
        <!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
        <div class="container my-3 border border-info rounded">
            <div class="row d-flex align-items-center">
                <div class="col p-2 d-flex justify-content-center text-center text-justify">
                    <span class="text-muted">הוגש ב:&MediumSpace;</span>
                    <span id="dateSubmitted"></span>
                    <span>&MediumSpace;&MediumSpace;</span>
                    <span class="text-muted">&MediumSpace;בשעה:&MediumSpace;</span>
                    <span id="timeSubmitted"></span>
                </div>
            </div>
        </div>
        <div class="container my-3 border border-info rounded">
            <div class="row d-flex align-items-center">
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="toggleOne">
                        <label class="form-check-label" for="toggleOne">נפתח</label>
                      </div>
                </div>
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="toggleTwo">
                        <label class="form-check-label" for="toggleTwo">נבדק</label>
                      </div>
                </div>
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="toggleThree">
                        <label class="form-check-label" for="toggleThree">בלהבלה</label>
                      </div>
                </div>
                <div class="col-3 p-2 d-flex justify-content-center">
                    <div id="update-form-button" class="btn btn-primary btn-sm">עדכן</div>
                </div>
            </div>
        </div>
        <div class="container my-3 border border-info rounded">
            <div class="row border-bottom">
                <div class="col p-0 d-flex justify-content-center">
                    יום בשבוע
                </div>
                <div class="col p-0 d-flex justify-content-center">
                    משמרת בוקר
                </div>
                <div class="col p-0 d-flex justify-content-center">
                    משמרת צהרים
                </div>
                <div class="col p-0 d-flex justify-content-center">
                    משמרת לילה
                </div>
            </div>
            <% const days=["ראשון", "שני" , "שלישי" , "רביעי" , "חמישי" , "שישי" , "שבת" ]; %>
                <% for (let i=0; i < 7; i++) { %>

                    <!-- 1st ROW (shifts) -->
                    <div class="row row-shifts day-<%= i+1 %>">

                        <div class="col p-2 d-flex justify-content-center">
                            <%= days[i] %>
                        </div>

                        <div class="col p-2 d-flex justify-content-center">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input shift-toggle has-ot"
                                    id="shifts[<%= i + 1 %>][morning][reg]" name="shifts[<%= i + 1 %>][morning][reg]"
                                    disabled data-day="<%= i + 1 %>" data-shift="morning" data-category="reg">
                            </div>
                        </div>

                        <div class="col p-2 d-flex justify-content-center">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input shift-toggle"
                                    id="shifts[<%= i + 1 %>][noon][reg]" name="shifts[<%= i + 1 %>][noon][reg]" disabled
                                    data-day="<%= i + 1 %>" data-shift="noon" data-category="reg">
                            </div>
                        </div>

                        <div class="col p-2 d-flex justify-content-center">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input shift-toggle has-ot"
                                    id="shifts[<%= i + 1 %>][night][reg]" name="shifts[<%= i + 1 %>][night][reg]"
                                    disabled data-day="<%= i + 1 %>" data-shift="night" data-category="reg">
                            </div>
                        </div>

                    </div>

                    <!-- 2cd ROW (OTs) -->
                    <div class="row row-ot day-<%= i+1 %> border-bottom">

                        <div class="col p-2 d-flex justify-content-center">
                            <!-- for maintaining structure  -->
                        </div>

                        <div class="col d-flex  justify-content-around align-items-start">
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input ot-toggle" disabled
                                    id="ots[<%= i + 1 %>][morning][ot1]" name="ots[<%= i + 1 %>][morning][ot]"
                                    data-day="<%= i + 1 %>" data-shift="morning" data-category="ot1">
                                <label class="form-check-label small" for="ots[<%= i + 1 %>][morning][ot]">עד 19</label>
                            </div>
                        </div>

                        <div class="col p-2 d-flex justify-content-center align-items-center">
                            <!-- for maintaining structure  -->
                        </div>

                        <div class="col d-flex flex-wrap  justify-content-around align-items-start">

                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input ot-toggle" disabled
                                    id="ots[<%= i + 1 %>][night][ot1]" name="ots[<%= i + 1 %>][night][ot][1]"
                                    data-day="<%= i + 1 %>" data-shift="night" data-category="ot1">
                                <label class="form-check-label small" for="ots[<%= i + 1 %>][night][ot][1]">מ-19</label>
                            </div>

                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input ot-toggle" disabled
                                    id="ots[<%= i + 1 %>][night][ot2]" name="ots[<%= i + 1 %>][night][ot][2]"
                                    data-day="<%= i + 1 %>" data-shift="night" data-category="ot2">
                                <label class="form-check-label small" for="ots[<%= i + 1 %>][night][ot][2]">עד
                                    11</label>
                            </div>

                        </div>

                    </div>
                    <% } %>
        </div>
        <div class="container my-3 border border-info rounded">
            <label class="form-label" for="comment">
                <h5>הערות מיוחדות</h5>
            </label>
            <p id="comment" class="text-justify text-break-rtl"></p>
        </div>
        <div class="container my-3 border border-info rounded">
            <div id="resetButton" class="btn btn-primary">איפוס</div>
        </div>
    </main>

    <script src="./allForms.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <script>
        const weeksData = '<%- weeks %>';
        const yearsData = '<%- years %>';
        const currentYearData = '<%- currentYear %>';
        const currentWeekData = '<%- currentWeek %>';
    </script>
</body>

</html>